<!-- 這是插件的核心設定檔，相當於插件的身分證 -->
<idea-plugin>
    <!-- 全域唯一的 ID，建議使用 package 命名風格 -->
    <id>com.catincold.dtohelper</id>

    <!-- 顯示在 Plugin 市場或 IDE 裡的名稱 -->
    <name>DTO Helper</name>

    <!-- 供應商資訊 -->
    <vendor email="hhtincode@gmail.com">CatInCold</vendor>

    <!-- 插件描述，支援 HTML -->
    <description><![CDATA[
    <h1>DTO Helper - Silky Smooth Code Generation</h1>
    <p>
        Accelerate your DTO implementation with intelligent code completion.
        Forget about manual typing or context menus—just type and go.
    </p>

    <h2>Features</h2>
    <ul>
        <li>
            <b>Smart Builder Chain (.builderChain)</b><br>
            Type <code>UserDto.</code> and select <b>builderChain</b>.
            <ul>
                <li>⚡ Automatically generates the full builder pattern structure.</li>
                <li>⚡ <b>Interactive Renaming</b>: Type to rename the variable, then press <b>Enter</b> to finish.</li>
                <li>⚡ <b>Smart Defaults</b>: Automatically fills <code>false</code> for booleans, <code>0</code> for integers, and <code>""</code> for Strings. No more manual <code>null</code> cleanup!</li>
                <li>⚡ Context-aware: Intelligently adds variable assignment (<code>UserDto user = ...</code>) only when needed.</li>
            </ul>
        </li>
        <li>
            <b>Generate All Getters (.allGetters)</b><br>
            Type <code>userDto.</code> and select <b>allGetters</b>.
            <ul>
                <li>⚡ Instantly generates variable assignments for all getters: <code>String name = userDto.getName();</code>.</li>
                <li>⚡ Respects your code style and indentation.</li>
                <li>⚡ Smartly excludes system methods like <code>getClass()</code>.</li>
            </ul>
        </li>
    </ul>

    <p>
        <b>Zero Friction Design</b>: Designed to keep your hands on the keyboard and your flow uninterrupted.
    </p>
    ]]></description>

    <!-- 依賴宣告，代表我們依賴 IntelliJ 的 Java 模組功能 -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor language="JAVA"
                                implementationClass="com.catincold.dtohelper.DTOHelperCompletionContributor"/>
    </extensions>

    <!-- 這裡註冊我們寫的 Action (功能) -->
    <actions>
        <!-- 
            GenerateGettersAction: 
            這就是我們稍後要寫的 Kotlin Class。
            id: 內部識別用
            text: 在選單上顯示的文字
            description: 滑鼠停在上面時的說明
        -->
        <action id="com.catincold.dtohelper.GenerateGettersAction"
                class="com.catincold.dtohelper.GenerateGettersAction"
                text="Generate All Getters"
                description="Generates all getters for the variable under cursor">
            <!-- 
                這裡定義此 Action 會出現在哪裡。
                group-id="GenerateGroup" 代表它會出現在 "Generate..." 選單中 (Alt+Insert)
                anchor="last" 代表排在最後面
            -->
            <add-to-group group-id="GenerateGroup" anchor="last"/>
        </action>

        <action id="com.catincold.dtohelper.GenerateBuilderAction"
                class="com.catincold.dtohelper.GenerateBuilderAction"
                text="Generate Builder Chain"
                description="Generates builder chain for the class">
            <add-to-group group-id="GenerateGroup" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
